<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>聊天室</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="favicon.ico"/>
    <link rel="bookmark" href="favicon.ico"/>
</head>
<body>
    <div class="container">
        <div class="chat-header">
            <h2>聊天室</h2>
            <button id="logoutBtn" class="hidden"><i class="fas fa-sign-out-alt"></i></button>
            <div id="onlineUsers" class="hidden">在线用户: 0</div>
        </div>
        <div id="loginForm" class="auth-form">
            <input type="text" id="loginUsername" placeholder="用户名">
            <input type="password" id="loginPassword" placeholder="密码">
            <button onclick="login()">登录</button>
            <p>没有账号？<a href="#" onclick="showRegisterForm()">去注册</a></p>
        </div>
        <div id="registerForm" class="auth-form hidden">
            <input type="text" id="registerUsername" placeholder="用户名" required>
            <input type="password" id="registerPassword" placeholder="密码" required>
            <button onclick="register()">注册</button>
            <p>已经有了账号？<a href="#" onclick="showLoginForm()">去登录</a></p>
        </div>
        <div id="chatRoom" class="hidden">
            <div class="chat-messages" id="chatMessages">
            </div>
        <div class="chat-input">
            <button id="recordButton" onclick="toggleRecording()">
                    <i class="fas fa-microphone"></i>
            </button>
            <button id="imageButton" onclick="document.getElementById('imageInput').click()">
                <i class="fas fa-image"></i>
            </button>
            <input type="text" id="messageInput" placeholder="说点什么...">
            <input type="file" id="imageInput" accept="image/*" style="display:none;" onchange="handleImageUpload(event)">
            <button id="sendButton" onclick="sendMessage()">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
        </div>
    </div>
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <p id="modalMessage"></p>
        </div>
    </div>
    <script src="app.js"></script>
</body>
</html>
